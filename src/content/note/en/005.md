---
title: 在 Astro ThoughtLite 中优雅地添加友链页面
timestamp: 2025-12-06 19:00:00+00:00
series: Blog
tags: [Blog, Astro]
description: 在 Blog 中添加友链
toc: true
---

# 前言

在搭建个人博客时，友链页面是一个重要的功能。它不仅能展示你欣赏的网站和博客，还能建立起网络中的连接。今天我将分享如何在 Astro 中实现一个简洁优雅的友链页面。

# How To Do That

如果你想要快速获得一个可工作的友链页面，按照以下步骤操作文件即可。

## 第一步：创建友链数据

创建 `src/content/friendlinks.json`：

```json
[
  {
    "name": "Astro",
    "url": "https://astro.build",
    "description": "现代化的静态网站生成框架",
    "avatar": "https://astro.build/assets/press/astro-logo-dark.svg"
  },
  {
    "name": "Svelte",
    "url": "https://svelte.dev",
    "description": "赛博朋克级别的 Web 框架",
    "avatar": "https://svelte.dev/svelte-logo-horizontal.svg"
  }
]
```

## 第二步：创建友链页面

创建 `src/pages/[...locale]/friendlink.astro` 文件

```astro
---
import config, { monolocale } from "$config";
import Base from "$layouts/Base.astro";
import Icon from "$components/Icon.astro";
import i18nit from "$i18n";
import Giscus from "$components/Giscus.svelte";
import { friendlinks } from "../../content/friendlinks.ts";

export async function getStaticPaths() {
  // Create path for each locale, omitting default locale from URL
  return config.i18n.locales.map(locale => ({
    params: { locale: config.i18n.defaultLocale === locale ? undefined : locale }
  }));
}

const { locale = config.i18n.defaultLocale } = Astro.params;
const t = i18nit(locale);
---
<style lang="less">
  .friendlinks-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
    gap: 1.5rem;
    margin-top: 1.5rem;

    .friendlink-card {
      display: flex;
      flex-direction: column;
      gap: 1rem;
      padding: 1.5rem;
      border: none;
      border-radius: 1rem;
      background: rgba(255, 255, 255, 0.5);
      backdrop-filter: blur(20px) saturate(180%);
      -webkit-backdrop-filter: blur(20px) saturate(180%);
      border: 2px solid rgba(255, 255, 255, 0.8);
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
      transition: all 0.3s ease;

      &:hover {
        background: rgba(255, 255, 255, 0.65);
        border-color: rgba(255, 255, 255, 1);
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.12);
        transform: translateY(-4px);
      }

      @media (prefers-color-scheme: dark) {
        background: rgba(255, 255, 255, 0.1);
        border: 1px solid rgba(255, 255, 255, 0.2);
        backdrop-filter: blur(20px) saturate(180%);
        -webkit-backdrop-filter: blur(20px) saturate(180%);

        &:hover {
          background: rgba(255, 255, 255, 0.15);
          border-color: rgba(255, 255, 255, 0.3);
        }
      }

      [data-theme="dark"] & {
        background: rgba(255, 255, 255, 0.1);
        border: 1px solid rgba(255, 255, 255, 0.2);
        backdrop-filter: blur(20px) saturate(180%);
        -webkit-backdrop-filter: blur(20px) saturate(180%);

        &:hover {
          background: rgba(255, 255, 255, 0.15);
          border-color: rgba(255, 255, 255, 0.3);
        }
      }

      [data-theme="light"] & {
        background: rgba(255, 255, 255, 0.5);
        border: 2px solid rgba(255, 255, 255, 0.8);
        backdrop-filter: blur(20px) saturate(180%);
        -webkit-backdrop-filter: blur(20px) saturate(180%);
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);

        &:hover {
          background: rgba(255, 255, 255, 0.65);
          border-color: rgba(255, 255, 255, 1);
          box-shadow: 0 8px 32px rgba(0, 0, 0, 0.12);
        }
      }

      .header {
        display: flex;
        align-items: center;
        gap: 1rem;

        .avatar {
          width: 48px;
          height: 48px;
          border-radius: 50%;
          object-fit: cover;
          border: 2px solid rgba(255, 255, 255, 0.2);
          flex-shrink: 0;
        }

        .info {
          flex: 1;
          display: flex;
          flex-direction: column;
          gap: 0.25rem;

          .name {
            font-weight: bold;
            font-size: 1rem;
            color: var(--primary-color);
          }

          .url {
            font-size: 0.75rem;
            color: var(--weak-color);
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
          }
        }
      }

      .description {
        flex: 1;
        font-size: 0.9rem;
        color: var(--remark-color);
        line-height: 1.5;
        display: -webkit-box;
        -webkit-line-clamp: 3;
        -webkit-box-orient: vertical;
        overflow: hidden;
      }

      .link {
        display: inline-flex;
        align-items: center;
        gap: 0.5rem;
        padding: 0.5rem 1rem;
        background: rgba(255, 255, 255, 0.4);
        backdrop-filter: blur(15px) saturate(150%);
        -webkit-backdrop-filter: blur(15px) saturate(150%);
        border-radius: 0.5rem;
        border: 1px solid rgba(255, 255, 255, 0.5);
        color: var(--primary-color);
        font-size: 0.9rem;
        font-weight: 600;
        transition: all 0.2s ease;
        align-self: flex-start;

        &:hover {
          background: rgba(255, 255, 255, 0.6);
          border-color: rgba(255, 255, 255, 0.7);
        }

        @media (prefers-color-scheme: dark) {
          background: rgba(255, 255, 255, 0.2);
          border: 1px solid rgba(255, 255, 255, 0.2);

          &:hover {
            background: rgba(255, 255, 255, 0.3);
            border-color: rgba(255, 255, 255, 0.4);
          }
        }

        [data-theme="dark"] & {
          background: rgba(255, 255, 255, 0.2);
          border: 1px solid rgba(255, 255, 255, 0.2);
          backdrop-filter: blur(15px) saturate(150%);
          -webkit-backdrop-filter: blur(15px) saturate(150%);

          &:hover {
            background: rgba(255, 255, 255, 0.3);
            border-color: rgba(255, 255, 255, 0.4);
          }
        }

        [data-theme="light"] & {
          background: rgba(255, 255, 255, 0.4);
          border: 2px solid rgba(255, 255, 255, 0.7);
          backdrop-filter: blur(15px) saturate(150%);
          -webkit-backdrop-filter: blur(15px) saturate(150%);

          &:hover {
            background: rgba(255, 255, 255, 0.6);
            border-color: rgba(255, 255, 255, 1);
          }
        }
      }
    }
  }

  .empty-state {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 1rem;
    padding: 3rem;
    text-align: center;

    svg {
      width: 64px;
      height: 64px;
      color: var(--weak-color);
    }

    p {
      color: var(--remark-color);
    }
  }
</style>

<Base title={t("navigation.friendlink")} {locale} description={t("friendlink.description")}>
  <main class="flex flex-col gap-6">
    <header class="flex flex-col gap-4">
      <h1 class="text-3xl">{t("navigation.friendlink")}</h1>
      <p class="text-lg c-remark">{t("friendlink.description")}</p>
      <hr class="b-b b-b-solid b-weak" />
    </header>

    {
      friendlinks.length > 0 ? (
        <div class="friendlinks-grid">
          {friendlinks.map((link: any) => (
            <div class="friendlink-card">
              <div class="header">
                {link.avatar && <img src={link.avatar} alt={link.name} class="avatar" />}
                <div class="info">
                  <div class="name">{link.name}</div>
                  <div class="url">{new URL(link.url).hostname}</div>
                </div>
              </div>
              <div class="description">{link.description}</div>
              <a href={link.url} target="_blank" rel="noopener noreferrer" class="link">
                访问网站 →
              </a>
            </div>
          ))}
        </div>
      ) : (
        <div class="empty-state">
          <Icon name="lucide:link-2-off" />
          <p>{t("friendlink.empty")}</p>
        </div>
      )
    }

    <hr class="b-b b-b-solid b-weak my-4" />

    <Giscus
      client:load
      repo="Yaten-Z/blog-giscus"
      repoId="R_kgDOOzg2eg"
      category="Announcements"
      categoryId="DIC_kwDOOzg2es4Cq1Mo"
      lang="zh-CN"
      lightTheme="noborder_light"
      darkTheme="noborder_dark"
    />
  </main>
</Base>

```

## 第三步：更新翻译文件

在 `src/i18n/zh-cn/index.yaml` 中添加：

```yaml
navigation:
  friendlink: 友链

friendlink:
  description: 这里收集了一些我喜欢的网站和博客
  empty: 暂无友链
```

在 `src/i18n/en/index.yaml` 中添加：

```yaml
navigation:
  friendlink: Friends

friendlink:
  description: A collection of websites and blogs I like
  empty: No friends yet
```

## 第四步：更新导航栏

修改 `src/layouts/header/Navigator.svelte`，在 Props 中添加 `friendlink`：

```typescript
let {
	locale,
	route,
	home,
	note,
	jotting,
	about,
	friendlink,  // 添加这行
	globe,
	rss,
	sun,
	moon,
	bars,
	close
}: { locale: string; route: string } & { [key: string]: Snippet } = $props();
```

在导航链接中添加（在 about 之后）：

```svelte
<a href={getRelativeLocaleUrl(locale, "/friendlink")} 
   class:location={route.startsWith(getRelativeLocaleUrl(locale, "/friendlink"))}>
	<span>{@render friendlink()}</span>
	<p>{t("navigation.friendlink")}</p>
</a>
```

修改 `src/layouts/Base.astro` 中的 Navigator 组件调用，添加图标：

```astro
<Navigator {locale} {route} client:load>
	<Icon name="lucide:tent" slot="home" is:inline />
	<Icon name="lucide:list" slot="note" />
	<Icon name="lucide:at-sign" slot="about" />
	<Icon name="lucide:feather" slot="jotting" />
	<Icon name="lucide:link-2" slot="friendlink" />  <!-- 添加这行 -->
	<Icon name="lucide:earth" slot="globe" />
	<Icon name="lucide:rss" slot="rss" />
	<Icon name="lucide:sun" slot="sun" />
	<Icon name="lucide:moon" slot="moon" />
	<Icon name="lucide:align-justify" slot="bars" />
	<Icon name="lucide:x" slot="close" is:inline />
</Navigator>
```

**完成！** 现在你已经有一个功能完整的友链页面了。

---

# 为什么需要友链页面？

友链页面的价值不仅在于技术实现，更在于它代表的意义：

- **建立社区联系** - 展示你欣赏的其他博主和项目
- **内容交流** - 让志同道合的人相互发现
- **网络效应** - 形成内容生态中的相互推荐
- **用户体验** - 为访客提供优质内容入口


# 参考资源

- [Astro 官方文档](https://docs.astro.build/)
- [CSS backdrop-filter](https://developer.mozilla.org/en-US/docs/Web/CSS/backdrop-filter)
- [CSS Grid 完全指南](https://css-tricks.com/snippets/css/complete-guide-grid/)
- [CSS Transforms](https://developer.mozilla.org/en-US/docs/Web/CSS/transform)

欢迎大家在评论区评论！